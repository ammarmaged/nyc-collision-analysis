/* ============================
   NYC Collision Analysis Dashboard
   Professional CSS Styling
   ============================ */

/* Root variables for consistent theming */
:root {
    --primary-color: #3498db;
    --secondary-color: #2c3e50;
    --accent-color: #e74c3c;
    --light-bg: #ecf0f1;
    --white: #ffffff;
    --text-dark: #2c3e50;
    --text-light: #ecf0f1;
    --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.1);
    --shadow-medium: 0 4px 12px rgba(0, 0, 0, 0.15);
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --border-radius: 8px;
}

/* Global styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
        'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
        sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--light-bg);
}

/* Main layout container */
#app {
    width: 100%;
    min-height: 100vh;
    background-color: var(--light-bg);
}

/* ============================
   Toggle Button Styling
   ============================ */

#toggle-button {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1001;
    padding: 12px 18px;
    background: linear-gradient(135deg, var(--primary-color), #2980b9);
    color: var(--white);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    letter-spacing: 0.5px;
    box-shadow: var(--shadow-medium);
    transition: var(--transition-smooth);
    user-select: none;
    display: flex;
    align-items: center;
    gap: 8px;
}

#toggle-button:hover {
    background: linear-gradient(135deg, #2980b9, #1f618d);
    box-shadow: 0 6px 16px rgba(52, 152, 219, 0.4);
    transform: translateY(-2px);
}

#toggle-button:active {
    transform: translateY(0);
    box-shadow: var(--shadow-light);
}

/* ============================
   Sidebar Styling
   ============================ */

#sidebar {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 280px;
    padding: 30px 20px;
    background: linear-gradient(180deg, var(--secondary-color) 0%, #34495e 100%);
    color: var(--white);
    overflow-y: auto;
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.2);
    transform: translateX(0);
    transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1000;
}

#sidebar::-webkit-scrollbar {
    width: 6px;
}

#sidebar::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.1);
}

#sidebar::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 3px;
}

#sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.5);
}

/* Sidebar title */
.sidebar-title {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 30px;
    text-align: center;
    border-bottom: 3px solid var(--primary-color);
    padding-bottom: 18px;
    color: var(--text-light);
    text-transform: uppercase;
    letter-spacing: 1.5px;
}

/* Filters section title */
.filters-title {
    font-size: 14px;
    font-weight: 700;
    margin-bottom: 20px;
    color: var(--text-light);
    text-transform: uppercase;
    letter-spacing: 1px;
    opacity: 0.9;
}

/* Filters grid container */
.filters-grid {
    display: flex;
    flex-direction: column;
    gap: 18px;
}

/* ============================
   Dropdown Filter Styling
   Compatible with both legacy and react-select class names
   ============================ */

/* Match both Dash/react-select naming conventions to ensure styling applies */
.Select-control,
.Select__control,
.Select-control.is-focused,
.Select__control--is-focused {
    background-color: rgba(255, 255, 255, 0.98) !important;
    border: 2px solid transparent !important;
    border-radius: var(--border-radius) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.06) !important;
    transition: var(--transition-smooth) !important;
    color: var(--text-dark) !important;
}

.Select-control:hover,
.Select__control:hover {
    border-color: var(--primary-color) !important;
    box-shadow: 0 4px 8px rgba(52, 152, 219, 0.12) !important;
}

/* Placeholder and single value text */
.Select-placeholder,
.Select__placeholder,
.Select-value,
.Select__single-value,
.Select__value-container {
    color: var(--text-dark) !important;
    font-weight: 500 !important;
}

/* Menu / dropdown list */
.Select-menu-outer,
.Select__menu,
.Select__menu-list {
    background-color: var(--white) !important;
    border: 1px solid rgba(0,0,0,0.06) !important;
    border-radius: var(--border-radius) !important;
    box-shadow: var(--shadow-medium) !important;
}

.Select-option,
.Select__option {
    color: var(--text-dark) !important;
    padding: 10px 12px !important;
    transition: var(--transition-smooth) !important;
}

.Select-option:hover,
.Select__option:hover {
    background-color: rgba(52, 152, 219, 0.06) !important;
    color: var(--text-dark) !important;
}

.Select-option.is-selected,
.Select__option--is-selected {
    background-color: var(--primary-color) !important;
    color: var(--white) !important;
}

/* Multi-value / chips */
.Select-multi-value,
.Select__multi-value {
    background: rgba(52,152,219,0.12) !important;
    color: var(--text-dark) !important;
    border-radius: 4px !important;
}

/* Ensure the indicator and clear button are visible */
.Select-indicators,
.Select__indicators {
    color: var(--text-dark) !important;
}

/* Force the input text color inside the control */
.Select-input input,
.Select__input input {
    color: var(--text-dark) !important;
}

/* Extra defensive rules to cover Dash/react-select generated classes
   and ensure dropdown option and selected text are readable when
   dropdowns are inside the dark sidebar. Targets both legacy and
   generated class patterns and forces color for all descendants. */
#sidebar .custom-dropdown,
#sidebar .custom-dropdown *,
#sidebar .Select-control,
#sidebar .Select__control,
#sidebar .Select-control *,
#sidebar .Select__control *,
#sidebar [role="option"],
#sidebar [role="option"] *,
#sidebar [role="listbox"],
#sidebar [role="listbox"] * {
    color: var(--text-dark) !important;
}

/* Also target common generated single-value/option classes used by react-select */
#sidebar [class*="singleValue"],
#sidebar [class*="singleValue"] *,
#sidebar [class*="option"],
#sidebar [class*="option"] * {
    color: var(--text-dark) !important;
}

/* ============================
   Content Area Styling
   ============================ */

#content {
    margin-left: 280px;
    padding: 30px;
    min-height: 100vh;
    background-color: var(--light-bg);
    transition: margin-left 0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

#content.sidebar-hidden {
    margin-left: 0;
}

/* Main heading */
#content h1 {
    text-align: center;
    margin-bottom: 40px;
    color: var(--text-dark);
    font-size: 36px;
    font-weight: 700;
    letter-spacing: -0.5px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
}

/* Main content container */
#main-content {
    background-color: var(--white);
    padding: 40px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-light);
    transition: var(--transition-smooth);
    min-height: 400px;
}

#main-content:hover {
    box-shadow: var(--shadow-medium);
}

/* ============================
   Responsive Design
   ============================ */

/* Tablet and smaller screens */
@media (max-width: 768px) {
    #sidebar {
        width: 250px;
    }

    #content {
        margin-left: 0;
        padding: 20px;
    }

    #toggle-button {
        padding: 10px 14px;
        font-size: 14px;
    }

    #content h1 {
        font-size: 28px;
        margin-bottom: 30px;
    }

    #main-content {
        padding: 20px;
    }
}

/* Mobile screens */
@media (max-width: 480px) {
    #sidebar {
        width: 100%;
        max-width: 280px;
    }

    #content {
        padding: 15px;
    }

    #toggle-button {
        padding: 10px 12px;
        font-size: 12px;
    }

    #content h1 {
        font-size: 22px;
        margin-bottom: 20px;
    }

    #main-content {
        padding: 15px;
        min-height: 300px;
    }
}

/* ============================
   Animation Keyframes
   ============================ */

@keyframes slideInFromLeft {
    from {
        transform: translateX(-100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutToLeft {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(-100%);
        opacity: 0;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

#sidebar.visible {
    animation: slideInFromLeft 0.35s ease-out;
}

#sidebar.hidden {
    animation: slideOutToLeft 0.35s ease-out;
}

/* ============================
   Utility Classes
   ============================ */

.text-center {
    text-align: center;
}

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: 5px; }
.mt-2 { margin-top: 10px; }
.mt-3 { margin-top: 15px; }
.mt-4 { margin-top: 20px; }

.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: 5px; }
.mb-2 { margin-bottom: 10px; }
.mb-3 { margin-bottom: 15px; }
.mb-4 { margin-bottom: 20px; }

.p-0 { padding: 0; }
.p-1 { padding: 5px; }
.p-2 { padding: 10px; }
.p-3 { padding: 15px; }
.p-4 { padding: 20px; }
